---
import '@astrojs/starlight/style/markdown.css';
import Quiz from './Quiz';

const { entry } = Astro.locals.starlightRoute || {};
const quiz = entry?.data?.quiz;
const pageId = entry?.id?.replace(/\.mdx?$/, '') || '';
---

<div class="sl-markdown-content">
  <slot />
  {quiz && quiz.length > 0 && (
    <div class="quiz-wrapper">
      <Quiz client:load pageId={pageId} questions={quiz} />
    </div>
  )}
</div>

<style>
  .quiz-wrapper {
    margin-top: 3rem;
  }
</style>
