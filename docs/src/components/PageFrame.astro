---
import Default from '@astrojs/starlight/components/PageFrame.astro';
import Quiz from './Quiz';

const { entry } = Astro.locals.starlightRoute || {};
const quiz = entry?.data?.quiz;
const pageId = entry?.id?.replace(/\.mdx?$/, '') || '';
---

<Default {...Astro.props}>
  <slot name="header" slot="header" />
  <slot name="sidebar" slot="sidebar" />
  <slot />
  {quiz && quiz.length > 0 && (
    <div class="quiz-wrapper">
      <Quiz client:load pageId={pageId} questions={quiz} />
    </div>
  )}
</Default>

<style>
  .quiz-wrapper {
    margin-top: 2rem;
  }
</style>
